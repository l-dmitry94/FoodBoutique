{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAIOC,eAAeC,IAClB,IACI,MAAMC,QAAa,EAAAJ,EAAAK,sBACfD,EAAKE,SACLC,EAAAC,KAAKC,YAAYC,WAAY,EAAAC,EAAAC,0BAEjCL,EAAAC,KAAKK,gBAAgBH,WAAY,EAAAC,EAAAG,2BAA0BV,E,CAC7D,MAAOW,GACLC,QAAQC,IAAIF,EAAMG,Q,ECZ1B,IAAAC,EAAAlB,EAAA,S,0BCAAkB,EAAAlB,EAAA,S,0BAAA,I,0BCKAE,IAEAI,EAAAC,KAAKK,gBAAgBO,iBAAiB,SDD/BlB,eAA8BmB,GACjC,MAAMC,GAAU,EAAAC,EAAAC,SAAQL,EAAAM,OAAOC,UAEzBC,EAAYN,EAAMO,OAAOC,QAAQ,qBAEvC,IAAIF,EAAW,OAEf,MAAMG,GAACA,GAAMH,EAAUE,QAAQ,mBAAmBE,QAE5CC,EAAiBV,EAAQW,WAAUC,GAAaA,IAAcJ,IAEpER,EAAQa,OAAOH,EAAgB,IAE/B,EAAAT,EAAAa,UAASd,EAASH,EAAAM,OAAOC,UAEzBvB,IAEImB,EAAQhB,SACRC,EAAAC,KAAKC,YAAYC,WAAY,EAAAC,EAAAC,yBAC7ByB,aAAaC,WAAWnB,EAAAM,OAAOC,U,ICjBvCnB,EAAAC,KAAK+B,kBAAkBnB,iBAAiB,SFJjC,WACHiB,aAAaC,WAAWnB,EAAAM,OAAOC,UAC/BnB,EAAAC,KAAKC,YAAYC,WAAY,EAAAC,EAAAC,wB","sources":["src/js/cart/cart.js","src/js/cart/deleteAllProducts.js","src/js/cart/deleteFromCart.js","src/cart.js"],"sourcesContent":["import { fetchAddedProducts } from '../requests/products';\nimport { createMarkupAddedProducts, createMarkupEmptyCart } from '../services/markup';\nimport { refs } from '../services/refs';\n\nexport async function renderAddedProducts() {\n    try {\n        const data = await fetchAddedProducts();\n        if(!data.length) {\n            refs.cartWrapper.innerHTML = createMarkupEmptyCart();\n        }\n        refs.cartProductList.innerHTML = createMarkupAddedProducts(data);\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n","import { common } from '../common/common';\nimport { createMarkupEmptyCart } from '../services/markup';\nimport { refs } from '../services/refs';\n\nexport function deleteAllProducts() {\n    localStorage.removeItem(common.CART_KEY);\n    refs.cartWrapper.innerHTML = createMarkupEmptyCart();\n}\n","import { common } from \"../common/common\";\nimport { createMarkupEmptyCart } from \"../services/markup\";\nimport { refs } from \"../services/refs\";\nimport { getData, saveData } from \"../services/storage\";\nimport { renderAddedProducts } from \"./cart\";\n\nexport async function deleteFromCart(event) {\n    const cartArr = getData(common.CART_KEY);\n\n    const deleteBtn = event.target.closest(\".products__delete\")\n\n    if(!deleteBtn) return;\n\n    const {id} = deleteBtn.closest(\".products__item\").dataset;\n\n    const deletedProduct = cartArr.findIndex(productId => productId === id)\n\n    cartArr.splice(deletedProduct, 1)\n\n    saveData(cartArr, common.CART_KEY)\n    \n    renderAddedProducts();\n\n    if(!cartArr.length) {\n        refs.cartWrapper.innerHTML = createMarkupEmptyCart();\n        localStorage.removeItem(common.CART_KEY)\n    }\n} ","import { renderAddedProducts } from './js/cart/cart';\nimport { deleteAllProducts } from './js/cart/deleteAllProducts';\nimport { deleteFromCart } from './js/cart/deleteFromCart';\nimport { refs } from './js/services/refs';\n\nrenderAddedProducts();\n\nrefs.cartProductList.addEventListener('click', deleteFromCart);\nrefs.deleteAllProducts.addEventListener('click', deleteAllProducts)\n"],"names":["$5lBxX","parcelRequire","async","$74cda4be3aaaa61c$export$b96e57af456f2b5b","data","fetchAddedProducts","length","$a3BqH","refs","cartWrapper","innerHTML","$hRCvZ","createMarkupEmptyCart","cartProductList","createMarkupAddedProducts","error","console","log","message","$kyFpU","addEventListener","event","cartArr","$1ggGL","getData","common","CART_KEY","deleteBtn","target","closest","id","dataset","deletedProduct","findIndex","productId","splice","saveData","localStorage","removeItem","deleteAllProducts"],"version":3,"file":"cart.625fa228.js.map"}