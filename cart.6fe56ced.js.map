{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,6DAIsBC,I,OAAAC,EAAmBC,MAAAC,KAAAC,U,UAAnBH,I,OAAAA,EAAfI,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,IAEOC,E,4FAAa,EAAAC,EAAAC,sB,OAAbF,EAAIG,EAAAC,KACVC,EAAAC,KAAKC,gBAAgBC,WAAY,EAAAC,EAAAC,2BAA0BV,G,gDAE3DW,QAAQC,IAAIT,EAAAU,GAAMC,S,0DALerB,MAAAC,KAAAC,U,CCJzCN,EAAAC,EAAA,S,aAAA,I,mCAIsByB,I,OAAAA,EAAfnB,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAA8BiB,G,IAC3BC,EAEAC,EAICC,EAEDC,E,qEARAH,GAAU,EAAAI,EAAAC,SAAQC,EAAAC,OAAOC,UAEzBP,EAAYF,EAAMU,OAAOC,QAAQ,qBAE1B,C,gDAEPR,EAAOD,EAAUS,QAAQ,mBAAmBC,QAA3CT,GAEDC,EAAiBH,EAAQY,WAAU,SAAAC,G,OAAaA,IAAcX,C,IAEpEF,EAAQc,OAAOX,EAAgB,IAE/B,EAAAC,EAAAW,UAASf,EAASM,EAAAC,OAAOC,UAEzBlC,IAEI0B,EAAQgB,QAERC,aAAaC,WAAWZ,EAAAC,OAAOC,U,6CAnBHhC,MAAAC,KAAAC,U,cCApCJ,IAEAc,EAAAC,KAAKC,gBAAgB6B,iBAAiB,S,SDFDpB,G,OAAfD,EAActB,MAAAC,KAAAC,U","sources":["src/js/cart/cart.js","src/js/cart/deleteFromCart.js","src/cart.js"],"sourcesContent":["import { fetchAddedProducts } from '../requests/products';\nimport { createMarkupAddedProducts } from '../services/markup';\nimport { refs } from '../services/refs';\n\nexport async function renderAddedProducts() {\n    try {\n        const data = await fetchAddedProducts();\n        refs.cartProductList.innerHTML = createMarkupAddedProducts(data);\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n","import { common } from \"../common/common\";\nimport { getData, saveData } from \"../services/storage\";\nimport { renderAddedProducts } from \"./cart\";\n\nexport async function deleteFromCart(event) {\n    const cartArr = getData(common.CART_KEY);\n\n    const deleteBtn = event.target.closest(\".products__delete\")\n\n    if(!deleteBtn) return;\n\n    const {id} = deleteBtn.closest(\".products__item\").dataset;\n\n    const deletedProduct = cartArr.findIndex(productId => productId === id)\n\n    cartArr.splice(deletedProduct, 1)\n\n    saveData(cartArr, common.CART_KEY)\n    \n    renderAddedProducts();\n\n    if(!cartArr.length) {\n        // refs.cardWrapper.innerHTML = createMarkupEmptyCart();\n        localStorage.removeItem(common.CART_KEY)\n    }\n} ","import { renderAddedProducts } from './js/cart/cart';\nimport { deleteFromCart } from './js/cart/deleteFromCart';\nimport { refs } from './js/services/refs';\n\nrenderAddedProducts();\n\nrefs.cartProductList.addEventListener('click', deleteFromCart);\n"],"names":["$bpxeT","parcelRequire","$28304dcd5ed43619$export$b96e57af456f2b5b","$28304dcd5ed43619$var$_renderAddedProducts","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$4V4kH","fetchAddedProducts","_ctx","sent","$6D8LP","refs","cartProductList","innerHTML","$7fB3v","createMarkupAddedProducts","console","log","t0","message","$c953c5b9107248d5$var$_deleteFromCart","event","cartArr","deleteBtn","id","deletedProduct","$hie1p","getData","$v4drH","common","CART_KEY","target","closest","dataset","findIndex","productId","splice","saveData","length","localStorage","removeItem","addEventListener"],"version":3,"file":"cart.6fe56ced.js.map"}