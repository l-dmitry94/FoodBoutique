{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,6DAIsBC,I,OAAAC,EAAmBC,MAAAC,KAAAC,U,UAAnBH,I,OAAAA,EAAfI,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,IAEOC,E,4FAAa,EAAAC,EAAAC,sB,QAAbF,EAAIG,EAAAC,MACDC,SACLC,EAAAC,KAAKC,YAAYC,WAAY,EAAAC,EAAAC,0BAEjCL,EAAAC,KAAKK,gBAAgBH,WAAY,EAAAC,EAAAG,2BAA0Bb,G,gDAE3Dc,QAAQC,IAAIZ,EAAAa,GAAMC,S,0DARexB,MAAAC,KAAAC,U,CCJzC,IAAAuB,EAAA5B,EAAA,S,0BCAAD,EAAAC,EAAA,S,oDAAA,I,sBAMsB6B,I,OAAAA,EAAfvB,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAA8BqB,G,IAC3BC,EAEAC,EAICC,EAEDC,E,qEARAH,GAAU,EAAAI,EAAAC,SAAQR,EAAAS,OAAOC,UAEzBN,EAAYF,EAAMS,OAAOC,QAAQ,qBAE1B,C,gDAEPP,EAAOD,EAAUQ,QAAQ,mBAAmBC,QAA3CR,GAEDC,EAAiBH,EAAQW,WAAU,SAAAC,G,OAAaA,IAAcV,C,IAEpEF,EAAQa,OAAOV,EAAgB,IAE/B,EAAAC,EAAAU,UAASd,EAASH,EAAAS,OAAOC,UAEzBrC,IAEI8B,EAAQhB,SACRC,EAAAC,KAAKC,YAAYC,WAAY,EAAAC,EAAAC,yBAC7ByB,aAAaC,WAAWnB,EAAAS,OAAOC,W,6CAnBHnC,MAAAC,KAAAC,U,cCDpCJ,IAEAe,EAAAC,KAAKK,gBAAgB0B,iBAAiB,S,SDDDlB,G,OAAfD,EAAc1B,MAAAC,KAAAC,U,ICEpCW,EAAAC,KAAKgC,kBAAkBD,iBAAiB,SFJjC,WACHF,aAAaC,WAAWnB,EAAAS,OAAOC,UAC/BtB,EAAAC,KAAKC,YAAYC,WAAY,EAAAC,EAAAC,wB","sources":["src/js/cart/cart.js","src/js/cart/deleteAllProducts.js","src/js/cart/deleteFromCart.js","src/cart.js"],"sourcesContent":["import { fetchAddedProducts } from '../requests/products';\nimport { createMarkupAddedProducts, createMarkupEmptyCart } from '../services/markup';\nimport { refs } from '../services/refs';\n\nexport async function renderAddedProducts() {\n    try {\n        const data = await fetchAddedProducts();\n        if(!data.length) {\n            refs.cartWrapper.innerHTML = createMarkupEmptyCart();\n        }\n        refs.cartProductList.innerHTML = createMarkupAddedProducts(data);\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n","import { common } from '../common/common';\nimport { createMarkupEmptyCart } from '../services/markup';\nimport { refs } from '../services/refs';\n\nexport function deleteAllProducts() {\n    localStorage.removeItem(common.CART_KEY);\n    refs.cartWrapper.innerHTML = createMarkupEmptyCart();\n}\n","import { common } from \"../common/common\";\nimport { createMarkupEmptyCart } from \"../services/markup\";\nimport { refs } from \"../services/refs\";\nimport { getData, saveData } from \"../services/storage\";\nimport { renderAddedProducts } from \"./cart\";\n\nexport async function deleteFromCart(event) {\n    const cartArr = getData(common.CART_KEY);\n\n    const deleteBtn = event.target.closest(\".products__delete\")\n\n    if(!deleteBtn) return;\n\n    const {id} = deleteBtn.closest(\".products__item\").dataset;\n\n    const deletedProduct = cartArr.findIndex(productId => productId === id)\n\n    cartArr.splice(deletedProduct, 1)\n\n    saveData(cartArr, common.CART_KEY)\n    \n    renderAddedProducts();\n\n    if(!cartArr.length) {\n        refs.cartWrapper.innerHTML = createMarkupEmptyCart();\n        localStorage.removeItem(common.CART_KEY)\n    }\n} ","import { renderAddedProducts } from './js/cart/cart';\nimport { deleteAllProducts } from './js/cart/deleteAllProducts';\nimport { deleteFromCart } from './js/cart/deleteFromCart';\nimport { refs } from './js/services/refs';\n\nrenderAddedProducts();\n\nrefs.cartProductList.addEventListener('click', deleteFromCart);\nrefs.deleteAllProducts.addEventListener('click', deleteAllProducts)\n"],"names":["$bpxeT","parcelRequire","$28304dcd5ed43619$export$b96e57af456f2b5b","$28304dcd5ed43619$var$_renderAddedProducts","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$4V4kH","fetchAddedProducts","_ctx","sent","length","$6D8LP","refs","cartWrapper","innerHTML","$7fB3v","createMarkupEmptyCart","cartProductList","createMarkupAddedProducts","console","log","t0","message","$v4drH","$c953c5b9107248d5$var$_deleteFromCart","event","cartArr","deleteBtn","id","deletedProduct","$hie1p","getData","common","CART_KEY","target","closest","dataset","findIndex","productId","splice","saveData","localStorage","removeItem","addEventListener","deleteAllProducts"],"version":3,"file":"cart.20003afd.js.map"}