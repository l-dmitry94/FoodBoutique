{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAIOC,eAAeC,IAClB,IACI,MAAMC,QAAa,EAAAJ,EAAAK,sBACnBC,EAAAC,KAAKC,gBAAgBC,WAAY,EAAAC,EAAAC,2BAA0BP,E,CAC7D,MAAOQ,GACLC,QAAQC,IAAIF,EAAMG,Q,ECT1B,IAAAC,EAAAf,EAAA,S,0BCIAE,IAEAG,EAAAC,KAAKC,gBAAgBS,iBAAiB,SDF/Bf,eAA8BgB,GACjC,MAAMC,GAAU,EAAAC,EAAAC,SAAQL,EAAAM,OAAOC,UAEzBC,EAAYN,EAAMO,OAAOC,QAAQ,qBAEvC,IAAIF,EAAW,OAEf,MAAMG,GAACA,GAAMH,EAAUE,QAAQ,mBAAmBE,QAE5CC,EAAiBV,EAAQW,WAAUC,GAAaA,IAAcJ,IAEpER,EAAQa,OAAOH,EAAgB,IAE/B,EAAAT,EAAAa,UAASd,EAASH,EAAAM,OAAOC,UAEzBpB,IAEIgB,EAAQe,QAERC,aAAaC,WAAWpB,EAAAM,OAAOC,S","sources":["src/js/cart/cart.js","src/js/cart/deleteFromCart.js","src/cart.js"],"sourcesContent":["import { fetchAddedProducts } from '../requests/products';\nimport { createMarkupAddedProducts } from '../services/markup';\nimport { refs } from '../services/refs';\n\nexport async function renderAddedProducts() {\n    try {\n        const data = await fetchAddedProducts();\n        refs.cartProductList.innerHTML = createMarkupAddedProducts(data);\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n","import { common } from \"../common/common\";\nimport { getData, saveData } from \"../services/storage\";\nimport { renderAddedProducts } from \"./cart\";\n\nexport async function deleteFromCart(event) {\n    const cartArr = getData(common.CART_KEY);\n\n    const deleteBtn = event.target.closest(\".products__delete\")\n\n    if(!deleteBtn) return;\n\n    const {id} = deleteBtn.closest(\".products__item\").dataset;\n\n    const deletedProduct = cartArr.findIndex(productId => productId === id)\n\n    cartArr.splice(deletedProduct, 1)\n\n    saveData(cartArr, common.CART_KEY)\n    \n    renderAddedProducts();\n\n    if(!cartArr.length) {\n        // refs.cardWrapper.innerHTML = createMarkupEmptyCart();\n        localStorage.removeItem(common.CART_KEY)\n    }\n} ","import { renderAddedProducts } from './js/cart/cart';\nimport { deleteFromCart } from './js/cart/deleteFromCart';\nimport { refs } from './js/services/refs';\n\nrenderAddedProducts();\n\nrefs.cartProductList.addEventListener('click', deleteFromCart);\n"],"names":["$5lBxX","parcelRequire","async","$74cda4be3aaaa61c$export$b96e57af456f2b5b","data","fetchAddedProducts","$a3BqH","refs","cartProductList","innerHTML","$hRCvZ","createMarkupAddedProducts","error","console","log","message","$kyFpU","addEventListener","event","cartArr","$1ggGL","getData","common","CART_KEY","deleteBtn","target","closest","id","dataset","deletedProduct","findIndex","productId","splice","saveData","length","localStorage","removeItem"],"version":3,"file":"cart.61113559.js.map"}